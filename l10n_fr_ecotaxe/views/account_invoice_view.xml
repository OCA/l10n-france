<?xml version="1.0" encoding="utf-8"?>
<!--
   Copyright (C) 2015 Akretion (http://www.akretion.com/)
   @author: Mourad EL HADJ MIMOUNE <mourad.elhadj.mimoune@akretion.com>
-->

<odoo>
 
        <!-- INVOICE -->
        <record id="invoice_form" model="ir.ui.view">
            <field name="name">l10n_fr_ecotaxe.customer.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='invoice_line']/tree/field[@name='invoice_line_tax_id']" position="after">
                    <field name="amount_ecotaxe"/>
                </xpath>
                <field name="amount_untaxed" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>
                <field name="amount_tax" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>        
                <field name="amount_untaxed" position="after">
                    <field name="amount_untaxed_with_ecotaxe"/>
                    <field name="amount_ecotaxe"/>
                    <field name="amount_tax_without_ecotaxe"/>
                </field>          
                <xpath expr="//field[@name='tax_line']/tree/field[@name='base']" position="after">
                    <field name="generic_base"/>
                </xpath>
            </field>
        </record>
        
        <record id="invoice_supplier_form" model="ir.ui.view">
            <field name="name">l10n_fr_ecotaxe.supplier.invoice.form</field>
            <field name="model">account.invoice</field>
            <field name="inherit_id" ref="account.invoice_supplier_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='invoice_line']/tree/field[@name='invoice_line_tax_id']" position="after">
                    <field name="amount_ecotaxe"/>
                </xpath>
                <field name="amount_untaxed" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>
                <field name="amount_tax" position="attributes">
                    <attribute name="invisible">True</attribute>
                </field>
                <field name="amount_untaxed" position="after">
                    <field name="amount_untaxed_with_ecotaxe"/>
                    <field name="amount_ecotaxe"/>
                    <field name="amount_tax_without_ecotaxe"/>
                </field>          
            </field>
        </record>

    
</odoo>   
