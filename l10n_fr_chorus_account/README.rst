==============
L10n FR Chorus
==============

.. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--france-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-france/tree/12.0/l10n_fr_chorus_account
    :alt: OCA/l10n-france
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-france-12-0/l10n-france-12-0-l10n_fr_chorus_account
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runbot-Try%20me-875A7B.png
    :target: https://runbot.odoo-community.org/runbot/121/12.0
    :alt: Try me on Runbot

|badge1| |badge2| |badge3| |badge4| |badge5| 

This is the base module for the support of Chorus. Chorus specifications are available on `Chorus Pro Community website <https://communaute-chorus-pro.finances.gouv.fr/>`_. Chorus Pro is the electronic invoicing plateform of the French administration. All the suppliers of the French administration can send their invoices through Chorus and it is progressively becoming an obligation for all suppliers. To know more about Chorus and the obligation to send electronic invoices to the French administration, read `the dedicated page <https://www.economie.gouv.fr/entreprises/marches-publics-facture-electronique>`_ on the website of the Ministry of Economic Affairs.

To be able to generate an electronic invoice for Chorus, you need the module *l10n_fr_chorus_ubl* (or other modules that support a specific e-invoice format).

**Table of contents**

.. contents::
   :local:

Configuration
=============

On the customers that you invoice via Chorus, you must:

* enter their *SIRET* (*Accounting* tab),
* select *Chorus* as *Customer Invoice Transmission Method* (*Accounting* tab),
* select the *Info Required for Chorus* to the value that you obtained from Chorus (menu *Rechercher Structure Publique*),
* if the service code is a required information for that customer in Chorus, create an invoicing contact and enter the related *Chorus Service Code* and make sure that this contact is used as *Customer* on the invoice.

If you want to use the Chorus API to easily send invoices to Chorus from Odoo, you must:

* own a valid RGS 1 star SSL server client certificate generated by a company approved by LSTI (you can find the link to the *LSTI list* of qualified RGS certificate providers `here <https://www.lsti-certification.fr/index.php/fr/certification/psce>`_ on the LSTI website). Note that such a certificate costs about 250 â‚¬ per year.

* edit the Odoo server configuration file and add two keys *chorus_api_key* and *chorus_api_cert* that contain the file path to the private key and RGS certificate. Don't forget to restart the Odoo server after the update of its configuration file.

* in the menu *Accounting > Configuration > Settings*, in the section *Chorus API*, enable the option *Use Chorus API*, which will add all users to the *Chorus API* group. Then set the additional configuration parameters for Chorus API that will be prompted on the settings page.

In the menu *Settings > Technical > Automation > Scheduled Actions*, you should also activate the scheduled actions *Chorus Status Update* and *Chorus API Expiry Reminder Email*.

Usage
=====

If you enabled the Chorus API, you should see a button *Send to Chorus* on validated customer invoices and refunds that have a transmission method set to *Chorus*. You can also select several customer invoices/refunds and do *Action > Send to Chorus*.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-france/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us smashing it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-france/issues/new?body=module:%20l10n_fr_chorus_account%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Akretion

Contributors
~~~~~~~~~~~~

* Alexis de Lattre <alexis.delattre@akretion.com>
* Shine IT <contact@openerp.cn>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/l10n-france <https://github.com/OCA/l10n-france/tree/12.0/l10n_fr_chorus_account>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
